(()=>{var e={};e.id=300,e.ids=[300],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},58945:(e,t,s)=>{Promise.resolve().then(s.bind(s,88883))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70663:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},86786:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>k});var r=s(60687),a=s(43210),n=s(54864),i=s(20092),c=s(44493),l=s(29523),d=s(89667),o=s(54300),x=s(96834),m=s(17581),u=s(96474),h=s(87891),p=s(70663),g=s(88233),j=s(93613),b=s(99891),f=s(88920),v=s(26001),N=s(37590),y=s(33071);function k(){let{user:e}=(0,n.d4)(e=>e.auth),[t,s]=(0,a.useState)([]),[k,w]=(0,a.useState)(!1),[A,_]=(0,a.useState)(!1),[C,P]=(0,a.useState)(""),[q,M]=(0,a.useState)(""),[R,S]=(0,a.useState)(!1),[$,T]=(0,a.useState)(""),z={free:1,pro:3,elite:10},E=z[e?.plan]||z.free,F=t.length<E,Z=async()=>{w(!0);try{let e=await y.K.get("/telegram/accounts");s(e.data)}catch(e){console.error("Failed to load Telegram accounts:",e)}w(!1)},K=async()=>{w(!0);try{await y.K.post("/telegram/send-otp",{phone:C}),S(!0),N.oR.success("Verification code sent to your phone")}catch(e){N.oR.error(e.response?.data?.detail||"Failed to send verification code")}w(!1)},V=async()=>{w(!0);try{let e=await y.K.post("/telegram/verify-otp",{phone:C,code:q});e.data.session_string&&(T(e.data.session_string),await Z(),_(!1),P(""),M(""),S(!1),N.oR.success("Telegram account connected successfully"))}catch(e){N.oR.error(e.response?.data?.detail||"Failed to verify code")}w(!1)},W=async e=>{if(confirm("Are you sure you want to remove this Telegram account?"))try{await y.K.delete(`/telegram/accounts/${e}`),await Z(),N.oR.success("Telegram account removed successfully")}catch(e){N.oR.error(e.response?.data?.detail||"Failed to remove account")}},D=async(e,t)=>{try{await y.K.patch(`/telegram/accounts/${e}`,{is_active:!t}),await Z(),N.oR.success(`Account ${!t?"activated":"deactivated"} successfully`)}catch(e){N.oR.error(e.response?.data?.detail||"Failed to update account")}},I=e=>{switch(e){case"connected":return"text-neon-green border-neon-green/30 bg-neon-green/10";case"connecting":return"text-neon-orange border-neon-orange/30 bg-neon-orange/10";case"error":return"text-red-400 border-red-400/30 bg-red-400/10";default:return"text-dark-muted border-dark-border bg-dark-border/10"}};return(0,r.jsx)(i.A,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold text-dark-text flex items-center gap-3",children:[(0,r.jsx)(m.A,{className:"h-8 w-8 text-blue-400"}),"Telegram Accounts"]}),(0,r.jsx)("p",{className:"text-dark-muted mt-1",children:"Manage your connected Telegram accounts for message forwarding"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)(x.E,{variant:"outline",className:"text-blue-400 border-blue-400",children:[t.length," / ",E," accounts"]}),(0,r.jsxs)(l.$,{onClick:()=>_(!0),disabled:!F,className:"bg-blue-500 hover:bg-blue-600 text-white font-semibold",children:[(0,r.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Add Account"]})]})]}),(0,r.jsx)(f.N,{children:A&&(0,r.jsx)(v.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:(0,r.jsxs)(c.Zp,{className:"glass-effect border-blue-400/30 bg-blue-400/5",children:[(0,r.jsx)(c.aR,{children:(0,r.jsxs)(c.ZB,{className:"text-dark-text flex items-center gap-2",children:[(0,r.jsx)(u.A,{className:"h-5 w-5 text-blue-400"}),"Connect Telegram Account"]})}),(0,r.jsx)(c.Wu,{className:"space-y-4",children:R?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"code",className:"text-dark-text",children:"Verification Code"}),(0,r.jsx)(d.p,{id:"code",type:"text",placeholder:"12345",value:q,onChange:e=>M(e.target.value),className:"mt-1 bg-dark-border border-dark-border text-dark-text"}),(0,r.jsxs)("p",{className:"text-dark-muted text-sm mt-1",children:["Enter the verification code sent to ",C]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(l.$,{onClick:V,disabled:!q||k,className:"bg-blue-500 hover:bg-blue-600 text-white",children:k?"Verifying...":"Verify & Connect"}),(0,r.jsx)(l.$,{variant:"outline",onClick:()=>{S(!1),M("")},className:"border-dark-border hover:border-neon-orange hover:text-neon-orange",children:"Back"})]})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"phone",className:"text-dark-text",children:"Phone Number"}),(0,r.jsx)(d.p,{id:"phone",type:"tel",placeholder:"+1234567890",value:C,onChange:e=>P(e.target.value),className:"mt-1 bg-dark-border border-dark-border text-dark-text"}),(0,r.jsx)("p",{className:"text-dark-muted text-sm mt-1",children:"Enter your phone number with country code"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(l.$,{onClick:K,disabled:!C||k,className:"bg-blue-500 hover:bg-blue-600 text-white",children:k?"Sending...":"Send Verification Code"}),(0,r.jsx)(l.$,{variant:"outline",onClick:()=>_(!1),className:"border-dark-border hover:border-red-400 hover:text-red-400",children:"Cancel"})]})]})})]})})}),(0,r.jsx)(f.N,{mode:"wait",children:k?(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400"})}):0===t.length?(0,r.jsx)(c.Zp,{className:"glass-effect border-dark-border",children:(0,r.jsxs)(c.Wu,{className:"text-center py-12",children:[(0,r.jsx)(m.A,{className:"h-12 w-12 text-dark-muted mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-dark-text mb-2",children:"No Telegram accounts connected"}),(0,r.jsx)("p",{className:"text-dark-muted mb-6",children:"Connect your first Telegram account to start forwarding messages"}),F&&(0,r.jsxs)(l.$,{onClick:()=>_(!0),className:"bg-blue-500 hover:bg-blue-600 text-white font-semibold",children:[(0,r.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Connect Telegram"]})]})}):(0,r.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map((e,t)=>(0,r.jsx)(v.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},children:(0,r.jsxs)(c.Zp,{className:"glass-effect border-dark-border hover:border-blue-400/50 transition-all duration-300 group",children:[(0,r.jsx)(c.aR,{className:"pb-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center",children:(0,r.jsx)(m.A,{className:"h-5 w-5 text-blue-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-dark-text font-medium",children:[e.first_name," ",e.last_name]}),(0,r.jsx)("p",{className:"text-dark-muted text-sm",children:e.username?`@${e.username}`:e.phone})]})]}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsx)(x.E,{className:`text-xs ${I(e.session_status)}`,children:e.session_status})})]})}),(0,r.jsxs)(c.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-dark-muted text-sm",children:"Phone"}),(0,r.jsx)("span",{className:"text-dark-text text-sm",children:e.phone})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-dark-muted text-sm",children:"Status"}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:e.is_active?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.A,{className:"h-3 w-3 text-neon-green"}),(0,r.jsx)("span",{className:"text-neon-green text-sm",children:"Active"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.A,{className:"h-3 w-3 text-red-400"}),(0,r.jsx)("span",{className:"text-red-400 text-sm",children:"Inactive"})]})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-dark-muted text-sm",children:"Last Seen"}),(0,r.jsx)("span",{className:"text-dark-text text-sm",children:new Date(e.last_seen).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-dark-muted text-sm",children:"Connected"}),(0,r.jsx)("span",{className:"text-dark-text text-sm",children:new Date(e.created_at).toLocaleDateString()})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 pt-2",children:[(0,r.jsx)(l.$,{size:"sm",variant:"outline",onClick:()=>D(e.id,e.is_active),className:`flex-1 ${e.is_active?"border-red-400/30 text-red-400 hover:bg-red-400/10":"border-neon-green/30 text-neon-green hover:bg-neon-green/10"}`,children:e.is_active?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.A,{className:"h-3 w-3 mr-1"}),"Deactivate"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.A,{className:"h-3 w-3 mr-1"}),"Activate"]})}),(0,r.jsx)(l.$,{size:"sm",variant:"outline",onClick:()=>W(e.id),className:"border-red-400/30 text-red-400 hover:bg-red-400/10",children:(0,r.jsx)(g.A,{className:"h-3 w-3"})})]})]})]})},e.id))})}),!F&&(0,r.jsx)(c.Zp,{className:"glass-effect border-neon-orange/30 bg-neon-orange/5",children:(0,r.jsx)(c.Wu,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(j.A,{className:"h-5 w-5 text-neon-orange"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-dark-text font-medium",children:"Account Limit Reached"}),(0,r.jsxs)("p",{className:"text-dark-muted text-sm",children:["Upgrade to ",e?.plan==="free"?"Pro":"Elite"," plan to connect more Telegram accounts"]})]}),(0,r.jsx)(l.$,{size:"sm",className:"ml-auto bg-neon-orange hover:bg-neon-orange/90 text-black",onClick:()=>window.location.href="/billing",children:"Upgrade"})]})})}),(0,r.jsxs)(c.Zp,{className:"glass-effect border-dark-border",children:[(0,r.jsx)(c.aR,{children:(0,r.jsxs)(c.ZB,{className:"text-dark-text flex items-center gap-2",children:[(0,r.jsx)(b.A,{className:"h-5 w-5 text-neon-blue"}),"Important Information"]})}),(0,r.jsx)(c.Wu,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-dark-text font-medium mb-3",children:"Security & Privacy"}),(0,r.jsxs)("ul",{className:"text-dark-muted text-sm space-y-2",children:[(0,r.jsx)("li",{children:"• Your session data is encrypted and stored securely"}),(0,r.jsx)("li",{children:"• We never store your passwords or sensitive data"}),(0,r.jsx)("li",{children:"• You can disconnect accounts at any time"}),(0,r.jsx)("li",{children:"• All forwarding respects Telegram's rate limits"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-dark-text font-medium mb-3",children:"Account Management"}),(0,r.jsxs)("ul",{className:"text-dark-muted text-sm space-y-2",children:[(0,r.jsx)("li",{children:"• Each account can be used in multiple forwarding pairs"}),(0,r.jsx)("li",{children:"• Inactive accounts won't participate in forwarding"}),(0,r.jsx)("li",{children:"• Session health is monitored automatically"}),(0,r.jsx)("li",{children:"• Reconnection happens automatically when needed"})]})]})]})})]})]})})}},87891:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]])},88883:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/runner/workspace/src/app/telegram/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/workspace/src/app/telegram/page.tsx","default")},92792:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>d});var r=s(65239),a=s(48088),n=s(88170),i=s.n(n),c=s(30893),l={};for(let e in c)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>c[e]);s.d(t,l);let d={children:["",{children:["telegram",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,88883)),"/home/runner/workspace/src/app/telegram/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"/home/runner/workspace/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["/home/runner/workspace/src/app/telegram/page.tsx"],x={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/telegram/page",pathname:"/telegram",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},94735:e=>{"use strict";e.exports=require("events")},95393:(e,t,s)=>{Promise.resolve().then(s.bind(s,86786))},99891:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[996,330,932,301,408],()=>s(92792));module.exports=r})();