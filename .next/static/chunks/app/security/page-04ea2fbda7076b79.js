(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[369],{6150:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>Z});var a=t(95155),r=t(12115),i=t(20666),l=t(66695),n=t(30285),c=t(26126),d=t(17313),o=t(75525),u=t(14738),m=t(69803),x=t(14186),h=t(34835),g=t(1243),f=t(55670),p=t(34869),j=t(23464);let y="/api";class v{static async getSecurityOverview(){return(await j.A.get("".concat(y,"/security/overview"))).data}static async getSessions(){return(await j.A.get("".concat(y,"/security/sessions"))).data}static async logoutSession(e){await j.A.delete("".concat(y,"/security/sessions/").concat(e))}static async logoutAllSessions(){await j.A.delete("".concat(y,"/security/sessions"))}static async updateSecuritySettings(e){await j.A.put("".concat(y,"/security/settings"),e)}static async getRateLimits(){return(await j.A.get("".concat(y,"/security/rate-limits"))).data}static async getSecurityAlerts(){return(await j.A.get("".concat(y,"/security/alerts"))).data}}var N=t(46767),b=t(52280),w=t(4516);function A(e){let{sessions:s,onRefresh:t}=e,r=async e=>{try{await v.logoutSession(e),t()}catch(e){console.error("Failed to logout session:",e)}},i=e=>e.toLowerCase().includes("mobile")||e.toLowerCase().includes("phone")?(0,a.jsx)(N.A,{className:"h-4 w-4"}):e.toLowerCase().includes("tablet")?(0,a.jsx)(b.A,{className:"h-4 w-4"}):(0,a.jsx)(u.A,{className:"h-4 w-4"});return(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"h-5 w-5"}),"Active Sessions"]})}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:s&&s.length>0?s.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[i(e.deviceName),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium",children:e.deviceName}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(w.A,{className:"h-3 w-3"}),e.location]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(x.A,{className:"h-3 w-3"}),new Date(e.lastActive).toLocaleDateString()]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.current&&(0,a.jsx)(c.E,{variant:"default",children:"Current Session"}),!e.current&&(0,a.jsxs)(n.$,{variant:"destructive",size:"sm",onClick:()=>r(e.id),children:[(0,a.jsx)(h.A,{className:"h-3 w-3 mr-1"}),"Logout"]})]})]},e.id)):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(u.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"No active sessions found"})]})})})]})}var k=t(55863),S=t(59434);let C=r.forwardRef((e,s)=>{let{className:t,value:r,...i}=e;return(0,a.jsx)(k.bL,{ref:s,className:(0,S.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...i,children:(0,a.jsx)(k.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});C.displayName=k.bL.displayName;var T=t(71539);function L(e){let{plan:s="free",usage:t,limits:r}=e,i=r||(e=>{switch(e){case"elite":return{api:1e3,messages:5e4,accounts:25};case"pro":return{api:100,messages:1e4,accounts:10};default:return{api:10,messages:1e3,accounts:2}}})(s),n=t||{current:0,limit:i.api,resetTime:new Date().toISOString()},d=n.current/n.limit*100;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)(l.ZB,{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(T.A,{className:"h-5 w-5"}),"Rate Limits"]}),(0,a.jsxs)(c.E,{variant:"elite"===s?"default":"secondary",children:[s.toUpperCase()," PLAN"]})]})}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"API Calls"}),(0,a.jsxs)("span",{className:"text-sm ".concat(d>=90?"text-red-500":d>=70?"text-yellow-500":"text-green-500"),children:[n.current," / ",n.limit]})]}),(0,a.jsx)(C,{value:d,className:"h-2"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Resets: ",new Date(n.resetTime).toLocaleString()]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Messages/Hour"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["0 / ",i.messages]})]}),(0,a.jsx)(C,{value:0,className:"h-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Connected Accounts"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["0 / ",i.accounts]})]}),(0,a.jsx)(C,{value:0,className:"h-2"})]})]})})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"h-5 w-5"}),"Rate Limit Status"]})}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 border rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:Math.max(0,n.limit-n.current)}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Remaining Calls"})]}),(0,a.jsxs)("div",{className:"text-center p-4 border rounded-lg",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-500",children:[new Date(n.resetTime).getHours(),"h"]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Until Reset"})]}),(0,a.jsxs)("div",{className:"text-center p-4 border rounded-lg",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-purple-500",children:[Math.round(d),"%"]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Usage"})]})]})})]}),"elite"!==s&&(0,a.jsx)(l.Zp,{className:"border-yellow-200 bg-yellow-50",children:(0,a.jsx)(l.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(o.A,{className:"h-6 w-6 text-yellow-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-yellow-800",children:"Upgrade for Higher Limits"}),(0,a.jsx)("p",{className:"text-yellow-700 text-sm",children:"free"===s?"Pro plan: 100 API calls/hour, Elite plan: 1000 API calls/hour":"Elite plan: 1000 API calls/hour + priority processing"})]})]})})})]})}var R=t(80333),P=t(62523),_=t(85057),I=t(381),U=t(32919),E=t(23861);function O(e){let{settings:s,onUpdate:t}=e,[i,c]=(0,r.useState)(s||{twoFactorEnabled:!1,sessionTimeout:24,ipWhitelisting:!1,loginNotifications:!0}),[d,u]=(0,r.useState)(!1),m=(e,s)=>{c(t=>({...t,[e]:s}))},x=async()=>{try{u(!0),await v.updateSecuritySettings(i),t()}catch(e){console.error("Failed to save security settings:",e)}finally{u(!1)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(I.A,{className:"h-5 w-5"}),"Security Settings"]})}),(0,a.jsxs)(l.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(_.J,{className:"text-base font-medium",children:"Two-Factor Authentication"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Add an extra layer of security to your account"})]}),(0,a.jsx)(R.d,{checked:i.twoFactorEnabled,onCheckedChange:e=>m("twoFactorEnabled",e)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(_.J,{className:"text-base font-medium",children:"Session Timeout (hours)"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Automatically log out after this period of inactivity"}),(0,a.jsx)(P.p,{type:"number",min:"1",max:"168",value:i.sessionTimeout,onChange:e=>m("sessionTimeout",parseInt(e.target.value)),className:"w-32"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(_.J,{className:"text-base font-medium",children:"IP Whitelisting"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Only allow login from specific IP addresses"})]}),(0,a.jsx)(R.d,{checked:i.ipWhitelisting,onCheckedChange:e=>m("ipWhitelisting",e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(_.J,{className:"text-base font-medium",children:"Login Notifications"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Receive notifications for new login attempts"})]}),(0,a.jsx)(R.d,{checked:i.loginNotifications,onCheckedChange:e=>m("loginNotifications",e)})]}),(0,a.jsx)("div",{className:"pt-4",children:(0,a.jsx)(n.$,{onClick:x,disabled:d,children:d?"Saving...":"Save Settings"})})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(o.A,{className:"h-5 w-5"}),"Security Recommendations"]})}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[(0,a.jsx)(U.A,{className:"h-5 w-5 text-blue-500 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium",children:"Enable Two-Factor Authentication"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Protect your account with an additional verification step"})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[(0,a.jsx)(E.A,{className:"h-5 w-5 text-green-500 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium",children:"Monitor Login Activity"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Keep track of when and where your account is accessed"})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[(0,a.jsx)(o.A,{className:"h-5 w-5 text-purple-500 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium",children:"Regular Security Reviews"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Periodically review your security settings and active sessions"})]})]})]})})]})]})}function Z(){var e;let{user:s}=(0,i.GV)(e=>e.auth),[t,j]=(0,r.useState)(null),[y,N]=(0,r.useState)(!0);(0,r.useEffect)(()=>{b()},[]);let b=async()=>{try{N(!0);let e=await v.getSecurityOverview();j(e)}catch(e){console.error("Failed to fetch security data:",e)}finally{N(!1)}},w=async()=>{try{await v.logoutAllSessions(),b()}catch(e){console.error("Failed to logout all sessions:",e)}};return y?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Security & Session Controls"}),(0,a.jsxs)(n.$,{variant:"outline",onClick:b,children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(l.Zp,{children:(0,a.jsxs)(l.Wu,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Sessions"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:(null==t?void 0:t.activeSessions)||0})]}),(0,a.jsx)(u.A,{className:"h-8 w-8 text-blue-500"})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Across ",(null==t?void 0:t.deviceCount)||0," devices"]})]})}),(0,a.jsx)(l.Zp,{children:(0,a.jsxs)(l.Wu,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"API Calls Today"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:(null==t?void 0:t.apiCallsToday)||0})]}),(0,a.jsx)(m.A,{className:"h-8 w-8 text-green-500"})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["of ",(null==t?void 0:t.dailyLimit)||0," limit"]})]})}),(0,a.jsx)(l.Zp,{children:(0,a.jsxs)(l.Wu,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Security Score"}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[(null==t?void 0:t.securityScore)||0,"/100"]})]}),(0,a.jsx)(o.A,{className:"h-8 w-8 ".concat((null==t?void 0:t.securityScore)>=80?"text-green-500":(null==t?void 0:t.securityScore)>=60?"text-yellow-500":"text-red-500")})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:[(null==t?void 0:t.securityLevel)||"Good"," security level"]})]})}),(0,a.jsx)(l.Zp,{children:(0,a.jsxs)(l.Wu,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Last Login"}),(0,a.jsx)("p",{className:"text-lg font-bold",children:(null==t?void 0:t.lastLogin)?new Date(t.lastLogin).toLocaleDateString():"Unknown"})]}),(0,a.jsx)(x.A,{className:"h-8 w-8 text-purple-500"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:(null==t?void 0:t.lastLoginIP)||"Unknown IP"})]})})]}),(0,a.jsxs)(d.tU,{defaultValue:"sessions",className:"space-y-6",children:[(0,a.jsxs)(d.j7,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(d.Xi,{value:"sessions",children:"Active Sessions"}),(0,a.jsx)(d.Xi,{value:"limits",children:"Rate Limits"}),(0,a.jsx)(d.Xi,{value:"settings",children:"Security Settings"}),(0,a.jsx)(d.Xi,{value:"alerts",children:"Security Alerts"})]}),(0,a.jsx)(d.av,{value:"sessions",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Session Management"}),(0,a.jsxs)(n.$,{variant:"destructive",onClick:w,size:"sm",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Logout All Sessions"]})]}),(0,a.jsx)(A,{sessions:null==t?void 0:t.sessions,onRefresh:b})]})}),(0,a.jsx)(d.av,{value:"limits",children:(0,a.jsx)(L,{plan:null==s?void 0:s.plan,usage:null==t?void 0:t.rateLimitUsage,limits:null==t?void 0:t.rateLimits})}),(0,a.jsx)(d.av,{value:"settings",children:(0,a.jsx)(O,{settings:null==t?void 0:t.securitySettings,onUpdate:b})}),(0,a.jsx)(d.av,{value:"alerts",children:(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-5 w-5"}),"Recent Security Events"]})}),(0,a.jsx)(l.Wu,{children:(null==t||null==(e=t.securityAlerts)?void 0:e.length)>0?(0,a.jsx)("div",{className:"space-y-3",children:t.securityAlerts.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(g.A,{className:"h-4 w-4 ".concat("high"===e.severity?"text-red-500":"medium"===e.severity?"text-yellow-500":"text-blue-500")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleString()})]})]}),(0,a.jsx)(c.E,{variant:"high"===e.severity?"destructive":"secondary",children:e.severity})]},s))}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(o.A,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"No security alerts"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Your account security is up to date"})]})})]})})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{children:"Security Features by Plan"})}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 border rounded-lg ".concat((null==s?void 0:s.plan)==="free"?"border-blue-500 bg-blue-50":""),children:[(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"Free Plan"}),(0,a.jsxs)("ul",{className:"text-sm space-y-1",children:[(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-3 w-3 text-green-500"}),"Basic session management"]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-3 w-3 text-green-500"}),"Rate limiting: 10 API calls/hour"]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-3 w-3 text-gray-400"}),"IP whitelisting (Pro feature)"]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-3 w-3 text-gray-400"}),"Advanced alerts (Elite feature)"]})]})]}),(0,a.jsxs)("div",{className:"p-4 border rounded-lg ".concat((null==s?void 0:s.plan)==="pro"?"border-blue-500 bg-blue-50":""),children:[(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"Pro Plan"}),(0,a.jsxs)("ul",{className:"text-sm space-y-1",children:[(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-3 w-3 text-green-500"}),"Advanced session control"]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-3 w-3 text-green-500"}),"Rate limiting: 100 API calls/hour"]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-3 w-3 text-green-500"}),"IP whitelisting"]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-3 w-3 text-gray-400"}),"Advanced alerts (Elite feature)"]})]})]}),(0,a.jsxs)("div",{className:"p-4 border rounded-lg ".concat((null==s?void 0:s.plan)==="elite"?"border-blue-500 bg-blue-50":""),children:[(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"Elite Plan"}),(0,a.jsxs)("ul",{className:"text-sm space-y-1",children:[(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-3 w-3 text-green-500"}),"Enterprise session management"]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-3 w-3 text-green-500"}),"Rate limiting: 1000 API calls/hour"]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-3 w-3 text-green-500"}),"Advanced IP whitelisting"]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-3 w-3 text-green-500"}),"Real-time security alerts"]})]})]})]})})]})]})}},15504:(e,s,t)=>{Promise.resolve().then(t.bind(t,6150))},17313:(e,s,t)=>{"use strict";t.d(s,{Xi:()=>d,av:()=>o,j7:()=>c,tU:()=>n});var a=t(95155),r=t(12115),i=t(88143),l=t(59434);let n=i.bL,c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.B8,{ref:s,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r})});c.displayName=i.B8.displayName;let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.l9,{ref:s,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r})});d.displayName=i.l9.displayName;let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.UC,{ref:s,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});o.displayName=i.UC.displayName},26126:(e,s,t)=>{"use strict";t.d(s,{E:()=>n});var a=t(95155);t(12115);var r=t(74466),i=t(59434);let l=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)(l({variant:t}),s),...r})}},30285:(e,s,t)=>{"use strict";t.d(s,{$:()=>d});var a=t(95155),r=t(12115),i=t(99708),l=t(74466),n=t(59434);let c=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,s)=>{let{className:t,variant:r,size:l,asChild:d=!1,...o}=e,u=d?i.DX:"button";return(0,a.jsx)(u,{className:(0,n.cn)(c({variant:r,size:l,className:t})),ref:s,...o})});d.displayName="Button"},59434:(e,s,t)=>{"use strict";t.d(s,{cn:()=>i});var a=t(52596),r=t(39688);function i(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}},59959:(e,s,t)=>{"use strict";t.d(s,{F:()=>i,y:()=>c});var a=t(23464);let r=t(49509).env.NEXT_PUBLIC_API_URL||"/api",i=a.A.create({baseURL:r,headers:{"Content-Type":"application/json"}}),l="autoforwardx_tokens",n="autoforwardx_user",c={async login(e){let{access_token:s,refresh_token:t,token_type:a,expires_in:r}=(await i.post("/auth/login",e)).data,l={access_token:s,refresh_token:t,token_type:a,expires_in:r};this.setTokens(l);let n=(await i.get("/auth/me",{headers:{Authorization:"Bearer ".concat(s)}})).data;return this.setUser(n),{tokens:l,user:n}},async register(e){let{access_token:s,refresh_token:t,token_type:a,expires_in:r}=(await i.post("/auth/register",e)).data,l={access_token:s,refresh_token:t,token_type:a,expires_in:r};this.setTokens(l);let n=(await i.get("/auth/me",{headers:{Authorization:"Bearer ".concat(s)}})).data;return this.setUser(n),{tokens:l,user:n}},async sendTelegramOTP(e){await i.post("/auth/telegram/send-otp",e)},async verifyTelegramOTP(e){let{access_token:s,refresh_token:t,token_type:a,expires_in:r}=(await i.post("/auth/telegram/verify-otp",e)).data,l={access_token:s,refresh_token:t,token_type:a,expires_in:r};this.setTokens(l);let n=(await i.get("/auth/me",{headers:{Authorization:"Bearer ".concat(s)}})).data;return this.setUser(n),{tokens:l,user:n}},async refreshToken(e){let s=(await i.post("/auth/refresh",{refresh_token:e})).data;return this.setTokens(s),s},async getCurrentUser(){let e=this.getTokens();if(!e)throw Error("No authentication tokens found");let s=(await i.get("/auth/me",{headers:{Authorization:"Bearer ".concat(e.access_token)}})).data;return this.setUser(s),s},setTokens(e){localStorage.setItem(l,JSON.stringify(e))},getTokens(){let e=localStorage.getItem(l);return e?JSON.parse(e):null},setUser(e){localStorage.setItem(n,JSON.stringify(e))},getUser(){let e=localStorage.getItem(n);return e?JSON.parse(e):null},logout(){localStorage.removeItem(l),localStorage.removeItem(n)},isAuthenticated(){let e=this.getTokens();return!!(null==e?void 0:e.access_token)},getAccessToken(){let e=this.getTokens();return(null==e?void 0:e.access_token)||null},getRefreshToken(){let e=this.getTokens();return(null==e?void 0:e.refresh_token)||null},async sendOTP(e){return this.sendTelegramOTP({phone_number:e})},async verifyOTP(e,s){let t=await this.verifyTelegramOTP({phone_number:e,otp_code:s});return{access_token:t.tokens.access_token,refresh_token:t.tokens.refresh_token}}};i.interceptors.request.use(e=>{let s=c.getTokens();return(null==s?void 0:s.access_token)&&(e.headers.Authorization="Bearer ".concat(s.access_token)),e}),i.interceptors.response.use(e=>e,async e=>{var s;if((null==(s=e.response)?void 0:s.status)===401){let s=c.getTokens();if(null==s?void 0:s.refresh_token)try{let t=await c.refreshToken(s.refresh_token),a=e.config;return a.headers.Authorization="Bearer ".concat(t.access_token),i(a)}catch(e){c.logout(),window.location.href="/login"}else c.logout(),window.location.href="/login"}return Promise.reject(e)})},62523:(e,s,t)=>{"use strict";t.d(s,{p:()=>l});var a=t(95155),r=t(12115),i=t(59434);let l=r.forwardRef((e,s)=>{let{className:t,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...l})});l.displayName="Input"},66695:(e,s,t)=>{"use strict";t.d(s,{Wu:()=>d,ZB:()=>c,Zp:()=>l,aR:()=>n});var a=t(95155),r=t(12115),i=t(59434);let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});l.displayName="Card";let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t),...r})});n.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});c.displayName="CardTitle",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",t),...r})}).displayName="CardDescription";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",t),...r})});d.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter"},80333:(e,s,t)=>{"use strict";t.d(s,{d:()=>n});var a=t(95155),r=t(12115),i=t(98611),l=t(59434);let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.bL,{className:(0,l.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...r,ref:s,children:(0,a.jsx)(i.zi,{className:(0,l.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});n.displayName=i.bL.displayName},85057:(e,s,t)=>{"use strict";t.d(s,{J:()=>d});var a=t(95155),r=t(12115),i=t(40968),l=t(74466),n=t(59434);let c=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.b,{ref:s,className:(0,n.cn)(c(),t),...r})});d.displayName=i.b.displayName},89519:(e,s,t)=>{"use strict";t.d(s,{Ay:()=>h,HW:()=>d,iD:()=>i,kz:()=>c,ri:()=>u});var a=t(5710),r=t(59959);let i=(0,a.zD)("auth/login",async(e,s)=>{let{rejectWithValue:t}=s;try{return await r.y.login(e)}catch(e){return t(e.message||"Login failed")}}),l=(0,a.zD)("auth/sendTelegramOTP",async(e,s)=>{let{rejectWithValue:t}=s;try{return await r.y.sendTelegramOTP(e)}catch(e){return t(e.message||"Failed to send OTP")}}),n=(0,a.zD)("auth/verifyTelegramOTP",async(e,s)=>{let{rejectWithValue:t}=s;try{return await r.y.verifyTelegramOTP(e)}catch(e){return t(e.message||"OTP verification failed")}}),c=(0,a.zD)("auth/register",async(e,s)=>{let{rejectWithValue:t}=s;try{return await r.y.register(e)}catch(e){return t(e.message||"Registration failed")}}),d=(0,a.zD)("auth/getCurrentUser",async(e,s)=>{let{rejectWithValue:t}=s;try{return await r.y.getCurrentUser()}catch(e){return t(e.message||"Failed to get user info")}}),o=(0,a.Z0)({name:"auth",initialState:{user:null,tokens:null,isLoading:!1,error:null},reducers:{logout:e=>{e.user=null,e.tokens=null,e.error=null,r.y.logout()},clearError:e=>{e.error=null},setTokens:(e,s)=>{e.tokens=s.payload}},extraReducers:e=>{e.addCase(i.pending,e=>{e.isLoading=!0,e.error=null}).addCase(i.fulfilled,(e,s)=>{e.isLoading=!1,e.tokens=s.payload.tokens,e.user=s.payload.user}).addCase(i.rejected,(e,s)=>{e.isLoading=!1,e.error=s.payload}).addCase(c.pending,e=>{e.isLoading=!0,e.error=null}).addCase(c.fulfilled,(e,s)=>{e.isLoading=!1,e.tokens=s.payload.tokens,e.user=s.payload.user}).addCase(c.rejected,(e,s)=>{e.isLoading=!1,e.error=s.payload}).addCase(l.pending,e=>{e.isLoading=!0,e.error=null}).addCase(l.fulfilled,e=>{e.isLoading=!1}).addCase(l.rejected,(e,s)=>{e.isLoading=!1,e.error=s.payload}).addCase(n.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n.fulfilled,(e,s)=>{e.isLoading=!1,e.tokens=s.payload.tokens,e.user=s.payload.user}).addCase(n.rejected,(e,s)=>{e.isLoading=!1,e.error=s.payload}).addCase(d.fulfilled,(e,s)=>{e.user=s.payload})}}),{logout:u,clearError:m,setTokens:x}=o.actions,h=o.reducer}},e=>{var s=s=>e(e.s=s);e.O(0,[464,555,778,143,136,666,441,684,358],()=>s(15504)),_N_E=e.O()}]);