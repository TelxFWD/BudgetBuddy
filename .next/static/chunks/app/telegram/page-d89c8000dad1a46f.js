(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[300],{30285:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var a=s(95155),r=s(12115),n=s(99708),i=s(74466),c=s(59434);let l=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:s,variant:r,size:i,asChild:d=!1,...o}=e,m=d?n.DX:"button";return(0,a.jsx)(m,{className:(0,c.cn)(l({variant:r,size:i,className:s})),ref:t,...o})});d.displayName="Button"},40086:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(95155),r=s(12115),n=s(34540),i=s(12638),c=s(66695),l=s(30285),d=s(62523),o=s(85057),m=s(26126),x=s(46767),u=s(84616),h=s(76517),p=s(94449),g=s(62525),f=s(85339),b=s(75525),j=s(60760),v=s(76408),N=s(13568),y=s(96809);function w(){let{user:e}=(0,n.d4)(e=>e.auth),[t,s]=(0,r.useState)([]),[w,k]=(0,r.useState)(!1),[C,A]=(0,r.useState)(!1),[R,_]=(0,r.useState)(""),[T,F]=(0,r.useState)(""),[S,E]=(0,r.useState)(!1),[$,P]=(0,r.useState)(""),Z={free:1,pro:3,elite:10},D=Z[null==e?void 0:e.plan]||Z.free,z=t.length<D;(0,r.useEffect)(()=>{B()},[]);let B=async()=>{k(!0);try{let e=await y.K.get("/telegram/accounts");s(e.data)}catch(e){console.error("Failed to load Telegram accounts:",e)}k(!1)},W=async()=>{k(!0);try{await y.K.post("/telegram/send-otp",{phone:R}),E(!0),N.oR.success("Verification code sent to your phone")}catch(s){var e,t;N.oR.error((null==(t=s.response)||null==(e=t.data)?void 0:e.detail)||"Failed to send verification code")}k(!1)},K=async()=>{k(!0);try{let e=await y.K.post("/telegram/verify-otp",{phone:R,code:T});e.data.session_string&&(P(e.data.session_string),await B(),A(!1),_(""),F(""),E(!1),N.oR.success("Telegram account connected successfully"))}catch(s){var e,t;N.oR.error((null==(t=s.response)||null==(e=t.data)?void 0:e.detail)||"Failed to verify code")}k(!1)},V=async e=>{if(confirm("Are you sure you want to remove this Telegram account?"))try{await y.K.delete("/telegram/accounts/".concat(e)),await B(),N.oR.success("Telegram account removed successfully")}catch(e){var t,s;N.oR.error((null==(s=e.response)||null==(t=s.data)?void 0:t.detail)||"Failed to remove account")}},I=async(e,t)=>{try{await y.K.patch("/telegram/accounts/".concat(e),{is_active:!t}),await B(),N.oR.success("Account ".concat(t?"deactivated":"activated"," successfully"))}catch(e){var s,a;N.oR.error((null==(a=e.response)||null==(s=a.data)?void 0:s.detail)||"Failed to update account")}},L=e=>{switch(e){case"connected":return"text-neon-green border-neon-green/30 bg-neon-green/10";case"connecting":return"text-neon-orange border-neon-orange/30 bg-neon-orange/10";case"error":return"text-red-400 border-red-400/30 bg-red-400/10";default:return"text-dark-muted border-dark-border bg-dark-border/10"}};return(0,a.jsx)(i.A,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-dark-text flex items-center gap-3",children:[(0,a.jsx)(x.A,{className:"h-8 w-8 text-blue-400"}),"Telegram Accounts"]}),(0,a.jsx)("p",{className:"text-dark-muted mt-1",children:"Manage your connected Telegram accounts for message forwarding"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(m.E,{variant:"outline",className:"text-blue-400 border-blue-400",children:[t.length," / ",D," accounts"]}),(0,a.jsxs)(l.$,{onClick:()=>A(!0),disabled:!z,className:"bg-blue-500 hover:bg-blue-600 text-white font-semibold",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Add Account"]})]})]}),(0,a.jsx)(j.N,{children:C&&(0,a.jsx)(v.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:(0,a.jsxs)(c.Zp,{className:"glass-effect border-blue-400/30 bg-blue-400/5",children:[(0,a.jsx)(c.aR,{children:(0,a.jsxs)(c.ZB,{className:"text-dark-text flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"h-5 w-5 text-blue-400"}),"Connect Telegram Account"]})}),(0,a.jsx)(c.Wu,{className:"space-y-4",children:S?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"code",className:"text-dark-text",children:"Verification Code"}),(0,a.jsx)(d.p,{id:"code",type:"text",placeholder:"12345",value:T,onChange:e=>F(e.target.value),className:"mt-1 bg-dark-border border-dark-border text-dark-text"}),(0,a.jsxs)("p",{className:"text-dark-muted text-sm mt-1",children:["Enter the verification code sent to ",R]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(l.$,{onClick:K,disabled:!T||w,className:"bg-blue-500 hover:bg-blue-600 text-white",children:w?"Verifying...":"Verify & Connect"}),(0,a.jsx)(l.$,{variant:"outline",onClick:()=>{E(!1),F("")},className:"border-dark-border hover:border-neon-orange hover:text-neon-orange",children:"Back"})]})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"phone",className:"text-dark-text",children:"Phone Number"}),(0,a.jsx)(d.p,{id:"phone",type:"tel",placeholder:"+1234567890",value:R,onChange:e=>_(e.target.value),className:"mt-1 bg-dark-border border-dark-border text-dark-text"}),(0,a.jsx)("p",{className:"text-dark-muted text-sm mt-1",children:"Enter your phone number with country code"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(l.$,{onClick:W,disabled:!R||w,className:"bg-blue-500 hover:bg-blue-600 text-white",children:w?"Sending...":"Send Verification Code"}),(0,a.jsx)(l.$,{variant:"outline",onClick:()=>A(!1),className:"border-dark-border hover:border-red-400 hover:text-red-400",children:"Cancel"})]})]})})]})})}),(0,a.jsx)(j.N,{mode:"wait",children:w?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400"})}):0===t.length?(0,a.jsx)(c.Zp,{className:"glass-effect border-dark-border",children:(0,a.jsxs)(c.Wu,{className:"text-center py-12",children:[(0,a.jsx)(x.A,{className:"h-12 w-12 text-dark-muted mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-dark-text mb-2",children:"No Telegram accounts connected"}),(0,a.jsx)("p",{className:"text-dark-muted mb-6",children:"Connect your first Telegram account to start forwarding messages"}),z&&(0,a.jsxs)(l.$,{onClick:()=>A(!0),className:"bg-blue-500 hover:bg-blue-600 text-white font-semibold",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Connect Telegram"]})]})}):(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map((e,t)=>(0,a.jsx)(v.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},children:(0,a.jsxs)(c.Zp,{className:"glass-effect border-dark-border hover:border-blue-400/50 transition-all duration-300 group",children:[(0,a.jsx)(c.aR,{className:"pb-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center",children:(0,a.jsx)(x.A,{className:"h-5 w-5 text-blue-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-dark-text font-medium",children:[e.first_name," ",e.last_name]}),(0,a.jsx)("p",{className:"text-dark-muted text-sm",children:e.username?"@".concat(e.username):e.phone})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(m.E,{className:"text-xs ".concat(L(e.session_status)),children:e.session_status})})]})}),(0,a.jsxs)(c.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-dark-muted text-sm",children:"Phone"}),(0,a.jsx)("span",{className:"text-dark-text text-sm",children:e.phone})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-dark-muted text-sm",children:"Status"}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:e.is_active?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.A,{className:"h-3 w-3 text-neon-green"}),(0,a.jsx)("span",{className:"text-neon-green text-sm",children:"Active"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.A,{className:"h-3 w-3 text-red-400"}),(0,a.jsx)("span",{className:"text-red-400 text-sm",children:"Inactive"})]})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-dark-muted text-sm",children:"Last Seen"}),(0,a.jsx)("span",{className:"text-dark-text text-sm",children:new Date(e.last_seen).toLocaleDateString()})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-dark-muted text-sm",children:"Connected"}),(0,a.jsx)("span",{className:"text-dark-text text-sm",children:new Date(e.created_at).toLocaleDateString()})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 pt-2",children:[(0,a.jsx)(l.$,{size:"sm",variant:"outline",onClick:()=>I(e.id,e.is_active),className:"flex-1 ".concat(e.is_active?"border-red-400/30 text-red-400 hover:bg-red-400/10":"border-neon-green/30 text-neon-green hover:bg-neon-green/10"),children:e.is_active?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.A,{className:"h-3 w-3 mr-1"}),"Deactivate"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.A,{className:"h-3 w-3 mr-1"}),"Activate"]})}),(0,a.jsx)(l.$,{size:"sm",variant:"outline",onClick:()=>V(e.id),className:"border-red-400/30 text-red-400 hover:bg-red-400/10",children:(0,a.jsx)(g.A,{className:"h-3 w-3"})})]})]})]})},e.id))})}),!z&&(0,a.jsx)(c.Zp,{className:"glass-effect border-neon-orange/30 bg-neon-orange/5",children:(0,a.jsx)(c.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(f.A,{className:"h-5 w-5 text-neon-orange"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-dark-text font-medium",children:"Account Limit Reached"}),(0,a.jsxs)("p",{className:"text-dark-muted text-sm",children:["Upgrade to ",(null==e?void 0:e.plan)==="free"?"Pro":"Elite"," plan to connect more Telegram accounts"]})]}),(0,a.jsx)(l.$,{size:"sm",className:"ml-auto bg-neon-orange hover:bg-neon-orange/90 text-black",onClick:()=>window.location.href="/billing",children:"Upgrade"})]})})}),(0,a.jsxs)(c.Zp,{className:"glass-effect border-dark-border",children:[(0,a.jsx)(c.aR,{children:(0,a.jsxs)(c.ZB,{className:"text-dark-text flex items-center gap-2",children:[(0,a.jsx)(b.A,{className:"h-5 w-5 text-neon-blue"}),"Important Information"]})}),(0,a.jsx)(c.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-dark-text font-medium mb-3",children:"Security & Privacy"}),(0,a.jsxs)("ul",{className:"text-dark-muted text-sm space-y-2",children:[(0,a.jsx)("li",{children:"• Your session data is encrypted and stored securely"}),(0,a.jsx)("li",{children:"• We never store your passwords or sensitive data"}),(0,a.jsx)("li",{children:"• You can disconnect accounts at any time"}),(0,a.jsx)("li",{children:"• All forwarding respects Telegram's rate limits"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-dark-text font-medium mb-3",children:"Account Management"}),(0,a.jsxs)("ul",{className:"text-dark-muted text-sm space-y-2",children:[(0,a.jsx)("li",{children:"• Each account can be used in multiple forwarding pairs"}),(0,a.jsx)("li",{children:"• Inactive accounts won't participate in forwarding"}),(0,a.jsx)("li",{children:"• Session health is monitored automatically"}),(0,a.jsx)("li",{children:"• Reconnection happens automatically when needed"})]})]})]})})]})]})})}},62523:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var a=s(95155),r=s(12115),n=s(59434);let i=r.forwardRef((e,t)=>{let{className:s,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});i.displayName="Input"},66695:(e,t,s)=>{"use strict";s.d(t,{Wu:()=>d,ZB:()=>l,Zp:()=>i,aR:()=>c});var a=s(95155),r=s(12115),n=s(59434);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});i.displayName="Card";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...r})});c.displayName="CardHeader";let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});l.displayName="CardTitle",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})}).displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...r})});d.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},69151:(e,t,s)=>{Promise.resolve().then(s.bind(s,40086))},85057:(e,t,s)=>{"use strict";s.d(t,{J:()=>d});var a=s(95155),r=s(12115),n=s(40968),i=s(74466),c=s(59434);let l=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.b,{ref:t,className:(0,c.cn)(l(),s),...r})});d.displayName=n.b.displayName},96809:(e,t,s)=>{"use strict";s.d(t,{K:()=>i});var a=s(23464),r=s(59959);class n{async get(e,t){return this.api.get(e,t)}async post(e,t,s){return this.api.post(e,t,s)}async put(e,t,s){return this.api.put(e,t,s)}async patch(e,t,s){return this.api.patch(e,t,s)}async delete(e,t){return this.api.delete(e,t)}async uploadFile(e,t,s){let a=new FormData;return a.append("file",t),this.api.post(e,a,{...s,headers:{...null==s?void 0:s.headers,"Content-Type":"multipart/form-data"}})}constructor(){this.api=a.A.create({baseURL:"/api",timeout:3e4,headers:{"Content-Type":"application/json"}}),this.api.interceptors.request.use(e=>{let t=r.y.getAccessToken();return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),this.api.interceptors.response.use(e=>e,async e=>{var t;if((null==(t=e.response)?void 0:t.status)===401){let t=r.y.getRefreshToken();if(t)try{let{access_token:s,refresh_token:a}=(await this.api.post("/auth/refresh",{refresh_token:t})).data;return r.y.setTokens({access_token:s,refresh_token:a,token_type:"bearer",expires_in:3600}),e.config.headers.Authorization="Bearer ".concat(s),this.api.request(e.config)}catch(e){r.y.logout(),window.location.href="/login"}else r.y.logout(),window.location.href="/login"}return Promise.reject(e)})}}let i=new n}},e=>{var t=t=>e(e.s=t);e.O(0,[464,555,778,568,569,720,831,441,684,358],()=>t(69151)),_N_E=e.O()}]);