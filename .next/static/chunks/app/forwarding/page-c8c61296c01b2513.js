(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[316],{30285:(e,a,t)=>{"use strict";t.d(a,{$:()=>c});var s=t(95155),r=t(12115),d=t(99708),n=t(74466),i=t(59434);let l=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,a)=>{let{className:t,variant:r,size:n,asChild:c=!1,...o}=e,u=c?d.DX:"button";return(0,s.jsx)(u,{className:(0,i.cn)(l({variant:r,size:n,className:t})),ref:a,...o})});c.displayName="Button"},39547:(e,a,t)=>{Promise.resolve().then(t.bind(t,60598))},60598:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>I});var s=t(95155),r=t(12115),d=t(34540),n=t(84028),i=t(12638),l=t(66695),c=t(30285),o=t(62523),u=t(85057),m=t(80333),h=t(46767),x=t(81497),g=t(84616),p=t(54416),f=t(92138),b=t(14186),v=t(15273),y=t(24357),w=t(76408),j=t(13568);function N(e){let{pair:a,onClose:t,onSuccess:i}=e,N=(0,d.wA)(),[_,k]=(0,r.useState)({source_platform:"telegram",source_account_id:1,source_chat_id:"",destination_platform:"discord",destination_account_id:1,destination_chat_id:"",delay_seconds:0,silent_mode:!1,copy_mode:!1}),[A,C]=(0,r.useState)(!1);(0,r.useEffect)(()=>{a&&k({source_platform:a.source_platform,source_account_id:a.source_account_id,source_chat_id:a.source_chat_id,destination_platform:a.destination_platform,destination_account_id:a.destination_account_id,destination_chat_id:a.destination_chat_id,delay_seconds:a.delay_seconds,silent_mode:a.silent_mode,copy_mode:a.copy_mode})},[a]);let P=async e=>{e.preventDefault(),C(!0);try{a?(await N((0,n.v)({pairId:a.id,updates:_})).unwrap(),j.oR.success("Forwarding pair updated successfully")):(await N((0,n.kq)(_)).unwrap(),j.oR.success("Forwarding pair created successfully")),i()}catch(e){j.oR.error(e.message||"Failed to save forwarding pair")}C(!1)},D=[{value:"telegram",label:"Telegram",icon:h.A,color:"bg-blue-500"},{value:"discord",label:"Discord",icon:x.A,color:"bg-purple-500"}],S=e=>{let a=D.find(a=>a.value===e);return a?a.icon:h.A};return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,s.jsx)(w.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"w-full max-w-2xl",children:(0,s.jsxs)(l.Zp,{className:"glass-effect border-dark-border",children:[(0,s.jsx)(l.aR,{className:"pb-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(l.ZB,{className:"text-dark-text flex items-center gap-2",children:[(0,s.jsx)(g.A,{className:"h-5 w-5 text-neon-blue"}),a?"Edit Forwarding Pair":"Create Forwarding Pair"]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:t,className:"text-dark-muted hover:text-dark-text",children:(0,s.jsx)(p.A,{className:"h-4 w-4"})})]})}),(0,s.jsx)(l.Wu,{children:(0,s.jsxs)("form",{onSubmit:P,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-dark-border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-lg ".concat("telegram"===_.source_platform?"bg-blue-500":"bg-purple-500"," flex items-center justify-center"),children:r.createElement(S(_.source_platform),{className:"h-5 w-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-dark-text font-medium capitalize",children:_.source_platform}),(0,s.jsx)("p",{className:"text-dark-muted text-sm",children:_.source_chat_id||"Source chat"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f.A,{className:"h-6 w-6 text-neon-green"}),_.delay_seconds>0&&(0,s.jsxs)("div",{className:"flex items-center gap-1 text-neon-orange text-xs",children:[(0,s.jsx)(b.A,{className:"h-3 w-3"}),_.delay_seconds,"s"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-lg ".concat("telegram"===_.destination_platform?"bg-blue-500":"bg-purple-500"," flex items-center justify-center"),children:r.createElement(S(_.destination_platform),{className:"h-5 w-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-dark-text font-medium capitalize",children:_.destination_platform}),(0,s.jsx)("p",{className:"text-dark-muted text-sm",children:_.destination_chat_id||"Destination chat"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-dark-text",children:"Source Configuration"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(u.J,{htmlFor:"source_platform",className:"text-dark-text",children:"Platform"}),(0,s.jsx)("select",{id:"source_platform",value:_.source_platform,onChange:e=>k(a=>({...a,source_platform:e.target.value})),className:"w-full mt-1 px-3 py-2 bg-dark-border border border-dark-border rounded-lg text-dark-text focus:border-neon-blue focus:outline-none",children:D.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u.J,{htmlFor:"source_account_id",className:"text-dark-text",children:"Account ID"}),(0,s.jsx)(o.p,{id:"source_account_id",type:"number",value:_.source_account_id,onChange:e=>k(a=>({...a,source_account_id:parseInt(e.target.value)||1})),className:"mt-1 bg-dark-border border-dark-border text-dark-text focus:border-neon-blue"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u.J,{htmlFor:"source_chat_id",className:"text-dark-text",children:"Chat ID / Channel Username"}),(0,s.jsx)(o.p,{id:"source_chat_id",value:_.source_chat_id,onChange:e=>k(a=>({...a,source_chat_id:e.target.value})),placeholder:"@channel_name or chat_id",className:"mt-1 bg-dark-border border-dark-border text-dark-text focus:border-neon-blue",required:!0})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-dark-text",children:"Destination Configuration"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(u.J,{htmlFor:"destination_platform",className:"text-dark-text",children:"Platform"}),(0,s.jsx)("select",{id:"destination_platform",value:_.destination_platform,onChange:e=>k(a=>({...a,destination_platform:e.target.value})),className:"w-full mt-1 px-3 py-2 bg-dark-border border border-dark-border rounded-lg text-dark-text focus:border-neon-blue focus:outline-none",children:D.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u.J,{htmlFor:"destination_account_id",className:"text-dark-text",children:"Account ID"}),(0,s.jsx)(o.p,{id:"destination_account_id",type:"number",value:_.destination_account_id,onChange:e=>k(a=>({...a,destination_account_id:parseInt(e.target.value)||1})),className:"mt-1 bg-dark-border border-dark-border text-dark-text focus:border-neon-blue"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u.J,{htmlFor:"destination_chat_id",className:"text-dark-text",children:"Chat ID / Channel Username"}),(0,s.jsx)(o.p,{id:"destination_chat_id",value:_.destination_chat_id,onChange:e=>k(a=>({...a,destination_chat_id:e.target.value})),placeholder:"@channel_name or chat_id",className:"mt-1 bg-dark-border border-dark-border text-dark-text focus:border-neon-blue",required:!0})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-dark-text",children:"Advanced Options"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u.J,{htmlFor:"delay_seconds",className:"text-dark-text",children:"Delay (seconds)"}),(0,s.jsx)(o.p,{id:"delay_seconds",type:"number",min:"0",max:"3600",value:_.delay_seconds,onChange:e=>k(a=>({...a,delay_seconds:parseInt(e.target.value)||0})),className:"mt-1 bg-dark-border border-dark-border text-dark-text focus:border-neon-blue"}),(0,s.jsx)("p",{className:"text-dark-muted text-sm mt-1",children:"Add delay between receiving and forwarding messages"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-dark-border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(v.A,{className:"h-4 w-4 text-neon-orange"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-dark-text font-medium",children:"Silent Mode"}),(0,s.jsx)("p",{className:"text-dark-muted text-sm",children:"Forward messages without notifications"})]})]}),(0,s.jsx)(m.d,{checked:_.silent_mode,onCheckedChange:e=>k(a=>({...a,silent_mode:e})),className:"data-[state=checked]:bg-neon-orange"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-dark-border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(y.A,{className:"h-4 w-4 text-neon-purple"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-dark-text font-medium",children:"Copy Mode"}),(0,s.jsx)("p",{className:"text-dark-muted text-sm",children:"Preserve original message formatting"})]})]}),(0,s.jsx)(m.d,{checked:_.copy_mode,onCheckedChange:e=>k(a=>({...a,copy_mode:e})),className:"data-[state=checked]:bg-neon-purple"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 pt-4",children:[(0,s.jsx)(c.$,{type:"button",variant:"outline",onClick:t,className:"flex-1 border-dark-border hover:border-red-400 hover:text-red-400",children:"Cancel"}),(0,s.jsx)(c.$,{type:"submit",disabled:A,className:"flex-1 bg-neon-green hover:bg-neon-green/90 text-black font-semibold",children:A?"Saving...":a?"Update Pair":"Create Pair"})]})]})})]})})})}var _=t(40646),k=t(85690),A=t(82178),C=t(62525);function P(e){let{selectedPairs:a,onClearSelection:t}=e,i=(0,d.wA)(),[l,o]=(0,r.useState)(!1),u=async e=>{if(0===a.length||!confirm({pause:"Are you sure you want to pause ".concat(a.length," forwarding pairs?"),resume:"Are you sure you want to resume ".concat(a.length," forwarding pairs?"),delete:"Are you sure you want to delete ".concat(a.length," forwarding pairs? This action cannot be undone.")}[e]))return;o(!0);let s=0,r=0;try{for(let t of a)try{"delete"===e?await i((0,n.Ve)(t)).unwrap():await i((0,n.v)({pairId:t,updates:{is_active:"resume"===e}})).unwrap(),s++}catch(e){r++}s>0&&j.oR.success("".concat(s," pairs ").concat({pause:"paused",resume:"resumed",delete:"deleted"}[e]," successfully")),r>0&&j.oR.error("".concat(r," pairs failed to process")),t()}catch(e){j.oR.error("Failed to process bulk action")}o(!1)};return 0===a.length?null:(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-dark-border rounded-lg border border-neon-blue/30",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(_.A,{className:"h-4 w-4 text-neon-blue"}),(0,s.jsxs)("span",{className:"text-dark-text text-sm font-medium",children:[a.length," selected"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(c.$,{size:"sm",variant:"outline",onClick:()=>u("resume"),disabled:l,className:"border-neon-green/30 text-neon-green hover:bg-neon-green/10",children:[(0,s.jsx)(k.A,{className:"h-3 w-3 mr-1"}),"Resume All"]}),(0,s.jsxs)(c.$,{size:"sm",variant:"outline",onClick:()=>u("pause"),disabled:l,className:"border-neon-orange/30 text-neon-orange hover:bg-neon-orange/10",children:[(0,s.jsx)(A.A,{className:"h-3 w-3 mr-1"}),"Pause All"]}),(0,s.jsxs)(c.$,{size:"sm",variant:"outline",onClick:()=>u("delete"),disabled:l,className:"border-red-400/30 text-red-400 hover:bg-red-400/10",children:[(0,s.jsx)(C.A,{className:"h-3 w-3 mr-1"}),"Delete All"]})]}),(0,s.jsx)(c.$,{size:"sm",variant:"ghost",onClick:t,className:"text-dark-muted hover:text-dark-text ml-auto",children:(0,s.jsx)(p.A,{className:"h-3 w-3"})})]})}var D=t(26126),S=t(79397),F=t(47924),z=t(44020),H=t(44940),R=t(85339),T=t(60760);function I(){let e=(0,d.wA)(),{pairs:a,isLoading:t}=(0,d.d4)(e=>e.forwarding),{user:o}=(0,d.d4)(e=>e.auth),[u,h]=(0,r.useState)([]),[x,p]=(0,r.useState)(!1),[f,v]=(0,r.useState)(null),[y,_]=(0,r.useState)("all"),[k,A]=(0,r.useState)("");(0,r.useEffect)(()=>{e((0,n.he)())},[e]);let I=(null==a?void 0:a.filter(e=>{let a=!k||e.source_chat_id.toLowerCase().includes(k.toLowerCase())||e.destination_chat_id.toLowerCase().includes(k.toLowerCase()),t="all"===y||"active"===y&&e.is_active||"inactive"===y&&!e.is_active;return a&&t}))||[],L=async(a,t)=>{try{await e((0,n.v)({id:a,data:{is_active:!t}})).unwrap(),j.oR.success("Pair ".concat(t?"paused":"activated"," successfully"))}catch(e){j.oR.error(e.message||"Failed to update pair")}},E=async a=>{if(confirm("Are you sure you want to delete this forwarding pair?"))try{await e((0,n.Ve)(a)).unwrap(),j.oR.success("Pair deleted successfully")}catch(e){j.oR.error(e.message||"Failed to delete pair")}},O=(e,a)=>e?a?"text-neon-green border-neon-green/30 bg-neon-green/10":"text-neon-orange border-neon-orange/30 bg-neon-orange/10":"text-gray-400 border-gray-400/30 bg-gray-400/10",$={free:2,pro:10,elite:50},U=$[null==o?void 0:o.plan]||$.free,q=((null==a?void 0:a.length)||0)<U;return(0,s.jsx)(i.A,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold text-dark-text flex items-center gap-3",children:[(0,s.jsx)(S.A,{className:"h-8 w-8 text-neon-blue"}),"Forwarding Pairs"]}),(0,s.jsx)("p",{className:"text-dark-muted mt-1",children:"Manage your message forwarding configurations"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)(D.E,{variant:"outline",className:"text-neon-blue border-neon-blue",children:[(null==a?void 0:a.length)||0," / ",U," pairs"]}),(0,s.jsxs)(c.$,{onClick:()=>p(!0),disabled:!q,className:"bg-neon-green hover:bg-neon-green/90 text-black font-semibold",children:[(0,s.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"New Pair"]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[(0,s.jsxs)("div",{className:"relative flex-1 sm:flex-none",children:[(0,s.jsx)(F.A,{className:"absolute left-3 top-3 h-4 w-4 text-dark-muted"}),(0,s.jsx)("input",{type:"text",placeholder:"Search pairs...",value:k,onChange:e=>A(e.target.value),className:"pl-10 pr-4 py-2 w-full sm:w-64 bg-dark-border border border-dark-border rounded-lg text-dark-text placeholder:text-dark-muted focus:border-neon-blue focus:outline-none"})]}),(0,s.jsxs)("select",{value:y,onChange:e=>_(e.target.value),className:"px-3 py-2 bg-dark-border border border-dark-border rounded-lg text-dark-text focus:border-neon-blue focus:outline-none",children:[(0,s.jsx)("option",{value:"all",children:"All Status"}),(0,s.jsx)("option",{value:"active",children:"Active Only"}),(0,s.jsx)("option",{value:"inactive",children:"Inactive Only"})]})]}),u.length>0&&(0,s.jsx)(P,{selectedPairs:u,onClearSelection:()=>h([])})]}),(0,s.jsx)(T.N,{mode:"wait",children:t?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-neon-blue"})}):0===I.length?(0,s.jsx)(l.Zp,{className:"glass-effect border-dark-border",children:(0,s.jsxs)(l.Wu,{className:"text-center py-12",children:[(0,s.jsx)(S.A,{className:"h-12 w-12 text-dark-muted mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-dark-text mb-2",children:(null==a?void 0:a.length)===0?"No forwarding pairs yet":"No pairs match your filters"}),(0,s.jsx)("p",{className:"text-dark-muted mb-6",children:(null==a?void 0:a.length)===0?"Create your first forwarding pair to start forwarding messages":"Try adjusting your search terms or filters"}),(null==a?void 0:a.length)===0&&q&&(0,s.jsxs)(c.$,{onClick:()=>p(!0),className:"bg-neon-green hover:bg-neon-green/90 text-black font-semibold",children:[(0,s.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Create First Pair"]})]})}):(0,s.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:I.map((e,a)=>(0,s.jsx)(w.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},children:(0,s.jsxs)(l.Zp,{className:"glass-effect border-dark-border hover:border-neon-blue/50 transition-all duration-300 group",children:[(0,s.jsx)(l.aR,{className:"pb-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:u.includes(e.id),onChange:a=>{a.target.checked?h(a=>[...a,e.id]):h(a=>a.filter(a=>a!==e.id))},className:"rounded border-dark-border"}),(0,s.jsx)(D.E,{className:"text-xs ".concat(O(e.is_active,e.last_forwarded)),children:e.is_active?e.last_forwarded?"Active":"Waiting":"Paused"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.d,{checked:e.is_active,onCheckedChange:()=>L(e.id,e.is_active),className:"data-[state=checked]:bg-neon-green"}),(0,s.jsx)("button",{className:"text-dark-muted hover:text-dark-text opacity-0 group-hover:opacity-100 transition-opacity",children:(0,s.jsx)(z.A,{className:"h-4 w-4"})})]})]})}),(0,s.jsxs)(l.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-dark-muted uppercase tracking-wide",children:"Source"}),(0,s.jsxs)("p",{className:"text-sm text-dark-text capitalize flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-2 h-2 rounded-full ".concat("telegram"===e.source_platform?"bg-blue-400":"bg-purple-400")}),e.source_platform," • ",e.source_chat_id]})]}),(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-dark-border flex items-center justify-center",children:(0,s.jsx)(S.A,{className:"h-4 w-4 text-neon-green"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-dark-muted uppercase tracking-wide",children:"Destination"}),(0,s.jsxs)("p",{className:"text-sm text-dark-text capitalize flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-2 h-2 rounded-full ".concat("telegram"===e.destination_platform?"bg-blue-400":"bg-purple-400")}),e.destination_platform," • ",e.destination_chat_id]})]})]}),e.delay_seconds>0&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-dark-muted",children:[(0,s.jsx)(b.A,{className:"h-3 w-3"}),e.delay_seconds,"s delay"]}),e.last_forwarded&&(0,s.jsxs)("div",{className:"text-xs text-dark-muted",children:["Last: ",new Date(e.last_forwarded).toLocaleString()]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 pt-2",children:[(0,s.jsxs)(c.$,{size:"sm",variant:"outline",onClick:()=>v(e),className:"flex-1 border-dark-border hover:border-neon-blue",children:[(0,s.jsx)(H.A,{className:"h-3 w-3 mr-1"}),"Edit"]}),(0,s.jsxs)(c.$,{size:"sm",variant:"outline",onClick:()=>E(e.id),className:"flex-1 border-red-400/30 text-red-400 hover:bg-red-400/10",children:[(0,s.jsx)(C.A,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})]})},e.id))})}),!q&&(0,s.jsx)(l.Zp,{className:"glass-effect border-neon-orange/30 bg-neon-orange/5",children:(0,s.jsx)(l.Wu,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(R.A,{className:"h-5 w-5 text-neon-orange"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-dark-text font-medium",children:"Plan Limit Reached"}),(0,s.jsxs)("p",{className:"text-dark-muted text-sm",children:["Upgrade to ",(null==o?void 0:o.plan)==="free"?"Pro":"Elite"," plan to create more forwarding pairs"]})]}),(0,s.jsx)(c.$,{size:"sm",className:"ml-auto bg-neon-orange hover:bg-neon-orange/90 text-black",onClick:()=>window.location.href="/billing",children:"Upgrade"})]})})}),(x||f)&&(0,s.jsx)(N,{pair:f,onClose:()=>{p(!1),v(null)},onSuccess:()=>{p(!1),v(null),e((0,n.he)())}})]})})}},62523:(e,a,t)=>{"use strict";t.d(a,{p:()=>n});var s=t(95155),r=t(12115),d=t(59434);let n=r.forwardRef((e,a)=>{let{className:t,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...n})});n.displayName="Input"},66695:(e,a,t)=>{"use strict";t.d(a,{Wu:()=>c,ZB:()=>l,Zp:()=>n,aR:()=>i});var s=t(95155),r=t(12115),d=t(59434);let n=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});n.displayName="Card";let i=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",t),...r})});i.displayName="CardHeader";let l=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("h3",{ref:a,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});l.displayName="CardTitle",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("p",{ref:a,className:(0,d.cn)("text-sm text-muted-foreground",t),...r})}).displayName="CardDescription";let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,d.cn)("p-6 pt-0",t),...r})});c.displayName="CardContent",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,d.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter"},80333:(e,a,t)=>{"use strict";t.d(a,{d:()=>i});var s=t(95155),r=t(12115),d=t(98611),n=t(59434);let i=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(d.bL,{className:(0,n.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...r,ref:a,children:(0,s.jsx)(d.zi,{className:(0,n.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});i.displayName=d.bL.displayName},84028:(e,a,t)=>{"use strict";t.d(a,{kq:()=>c,Ay:()=>S,Ve:()=>u,he:()=>l,v:()=>o});var s=t(5710),r=t(23464);let d="https://your-backend-domain.com";class n{getAuthHeaders(){let e=localStorage.getItem("access_token");return{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}async getForwardingPairs(){return(await r.A.get("".concat(d,"/api/forwarding/pairs"),{headers:this.getAuthHeaders()})).data}async createForwardingPair(e){return(await r.A.post("".concat(d,"/api/forwarding/pairs"),e,{headers:this.getAuthHeaders()})).data}async updateForwardingPair(e,a){return(await r.A.patch("".concat(d,"/api/forwarding/pairs/").concat(e),a,{headers:this.getAuthHeaders()})).data}async deleteForwardingPair(e){await r.A.delete("".concat(d,"/api/forwarding/pairs/").concat(e),{headers:this.getAuthHeaders()})}async pauseForwardingPair(e){return(await r.A.post("".concat(d,"/api/forwarding/pairs/").concat(e,"/pause"),{},{headers:this.getAuthHeaders()})).data}async resumeForwardingPair(e){return(await r.A.post("".concat(d,"/api/forwarding/pairs/").concat(e,"/resume"),{},{headers:this.getAuthHeaders()})).data}async bulkPairOperation(e){await r.A.post("".concat(d,"/api/forwarding/pairs/bulk"),e,{headers:this.getAuthHeaders()})}async getTelegramAccounts(){return(await r.A.get("".concat(d,"/api/accounts/telegram"),{headers:this.getAuthHeaders()})).data}async getDiscordAccounts(){return(await r.A.get("".concat(d,"/api/accounts/discord"),{headers:this.getAuthHeaders()})).data}async addTelegramAccount(e){return(await r.A.post("".concat(d,"/api/accounts/telegram"),{phone_number:e},{headers:this.getAuthHeaders()})).data}async verifyTelegramOTP(e,a){return(await r.A.post("".concat(d,"/api/accounts/telegram/verify"),{phone_number:e,otp_code:a},{headers:this.getAuthHeaders()})).data}async removeTelegramAccount(e){await r.A.delete("".concat(d,"/api/accounts/telegram/").concat(e),{headers:this.getAuthHeaders()})}async addDiscordAccount(e){return(await r.A.post("".concat(d,"/api/accounts/discord"),{discord_token:e},{headers:this.getAuthHeaders()})).data}async removeDiscordAccount(e){await r.A.delete("".concat(d,"/api/accounts/discord/").concat(e),{headers:this.getAuthHeaders()})}async getTelegramChannels(e){return(await r.A.get("".concat(d,"/api/accounts/telegram/").concat(e,"/channels"),{headers:this.getAuthHeaders()})).data}async getDiscordServers(e){return(await r.A.get("".concat(d,"/api/accounts/discord/").concat(e,"/servers"),{headers:this.getAuthHeaders()})).data}async getQueueStatus(){return(await r.A.get("".concat(d,"/api/analytics/queue-status"),{headers:this.getAuthHeaders()})).data}async getSessionHealth(){return(await r.A.get("".concat(d,"/api/analytics/session-health"),{headers:this.getAuthHeaders()})).data}async getPlanLimits(){return(await r.A.get("".concat(d,"/api/forwarding/plan-limits"),{headers:this.getAuthHeaders()})).data}startRealTimeSync(e){let a=[];if(e.onPairUpdate){let t=setInterval(async()=>{try{(await this.getForwardingPairs()).forEach(e.onPairUpdate)}catch(e){console.error("Failed to fetch pair updates:",e)}},1e4);a.push(t)}if(e.onSessionHealthUpdate){let t=setInterval(async()=>{try{let a=await this.getSessionHealth();e.onSessionHealthUpdate(a)}catch(e){console.error("Failed to fetch session health:",e)}},3e4);a.push(t)}if(e.onQueueStatusUpdate){let t=setInterval(async()=>{try{let a=await this.getQueueStatus();e.onQueueStatusUpdate(a)}catch(e){console.error("Failed to fetch queue status:",e)}},15e3);a.push(t)}return()=>{a.forEach(clearInterval)}}}let i=new n,l=(0,s.zD)("forwarding/fetchPairs",async()=>await i.getForwardingPairs()),c=(0,s.zD)("forwarding/createPair",async e=>await i.createForwardingPair(e)),o=(0,s.zD)("forwarding/updatePair",async e=>{let{pairId:a,updates:t}=e;return await i.updateForwardingPair(a,t)}),u=(0,s.zD)("forwarding/deletePair",async e=>(await i.deleteForwardingPair(e),e)),m=(0,s.zD)("forwarding/pausePair",async e=>await i.pauseForwardingPair(e)),h=(0,s.zD)("forwarding/resumePair",async e=>await i.resumeForwardingPair(e)),x=(0,s.zD)("forwarding/bulkOperation",async e=>(await i.bulkPairOperation(e),e)),g=(0,s.zD)("forwarding/fetchTelegramAccounts",async()=>await i.getTelegramAccounts()),p=(0,s.zD)("forwarding/fetchDiscordAccounts",async()=>await i.getDiscordAccounts());(0,s.zD)("forwarding/addTelegramAccount",async e=>await i.addTelegramAccount(e));let f=(0,s.zD)("forwarding/verifyTelegramOTP",async e=>{let{phoneNumber:a,otpCode:t}=e;return await i.verifyTelegramOTP(a,t)}),b=(0,s.zD)("forwarding/removeTelegramAccount",async e=>(await i.removeTelegramAccount(e),e)),v=(0,s.zD)("forwarding/addDiscordAccount",async e=>await i.addDiscordAccount(e)),y=(0,s.zD)("forwarding/removeDiscordAccount",async e=>(await i.removeDiscordAccount(e),e)),w=(0,s.zD)("forwarding/fetchQueueStatus",async()=>await i.getQueueStatus()),j=(0,s.zD)("forwarding/fetchSessionHealth",async()=>await i.getSessionHealth()),N=(0,s.zD)("forwarding/fetchPlanLimits",async()=>await i.getPlanLimits()),_=(0,s.Z0)({name:"forwarding",initialState:{pairs:[],telegramAccounts:[],discordAccounts:[],selectedAccount:null,isLoading:!1,error:null,queueStatus:null,sessionHealth:null,planLimits:null},reducers:{setSelectedAccount:(e,a)=>{e.selectedAccount=a.payload},clearError:e=>{e.error=null},updatePairStatus:(e,a)=>{let{pairId:t,status:s}=a.payload,r=e.pairs.find(e=>e.id===t);r&&(r.queue_status=s)},updateSessionHealth:(e,a)=>{e.sessionHealth=a.payload,a.payload.telegram_sessions&&Object.entries(a.payload.telegram_sessions).forEach(a=>{let[t,s]=a,r=e.telegramAccounts.find(e=>e.id===parseInt(t));r&&(r.status=s.status)}),a.payload.discord_sessions&&Object.entries(a.payload.discord_sessions).forEach(a=>{let[t,s]=a,r=e.discordAccounts.find(e=>e.id===parseInt(t));r&&(r.status=s.status)})},updateQueueStatus:(e,a)=>{e.queueStatus=a.payload}},extraReducers:e=>{e.addCase(l.pending,e=>{e.isLoading=!0,e.error=null}).addCase(l.fulfilled,(e,a)=>{e.isLoading=!1,e.pairs=a.payload}).addCase(l.rejected,(e,a)=>{e.isLoading=!1,e.error=a.error.message||"Failed to fetch forwarding pairs"}).addCase(c.fulfilled,(e,a)=>{e.pairs.push(a.payload)}).addCase(o.fulfilled,(e,a)=>{let t=e.pairs.findIndex(e=>e.id===a.payload.id);-1!==t&&(e.pairs[t]=a.payload)}).addCase(u.fulfilled,(e,a)=>{e.pairs=e.pairs.filter(e=>e.id!==a.payload)}).addCase(m.fulfilled,(e,a)=>{let t=e.pairs.findIndex(e=>e.id===a.payload.id);-1!==t&&(e.pairs[t]=a.payload)}).addCase(h.fulfilled,(e,a)=>{let t=e.pairs.findIndex(e=>e.id===a.payload.id);-1!==t&&(e.pairs[t]=a.payload)}).addCase(x.fulfilled,(e,a)=>{let{action:t,pair_ids:s}=a.payload;"delete"===t?e.pairs=e.pairs.filter(e=>!s.includes(e.id)):e.pairs.forEach(e=>{s.includes(e.id)&&(e.is_active="resume"===t)})}),e.addCase(g.fulfilled,(e,a)=>{e.telegramAccounts=a.payload}).addCase(f.fulfilled,(e,a)=>{e.telegramAccounts.push(a.payload)}).addCase(b.fulfilled,(e,a)=>{e.telegramAccounts=e.telegramAccounts.filter(e=>e.id!==a.payload)}),e.addCase(p.fulfilled,(e,a)=>{e.discordAccounts=a.payload}).addCase(v.fulfilled,(e,a)=>{e.discordAccounts.push(a.payload)}).addCase(y.fulfilled,(e,a)=>{e.discordAccounts=e.discordAccounts.filter(e=>e.id!==a.payload)}),e.addCase(w.fulfilled,(e,a)=>{e.queueStatus=a.payload}).addCase(j.fulfilled,(e,a)=>{e.sessionHealth=a.payload}).addCase(N.fulfilled,(e,a)=>{e.planLimits=a.payload}),e.addMatcher(e=>e.type.endsWith("/rejected"),(e,a)=>{var t;e.isLoading=!1,e.error=(null==(t=a.error)?void 0:t.message)||"An error occurred"})}}),{setSelectedAccount:k,clearError:A,updatePairStatus:C,updateSessionHealth:P,updateQueueStatus:D}=_.actions,S=_.reducer},85057:(e,a,t)=>{"use strict";t.d(a,{J:()=>c});var s=t(95155),r=t(12115),d=t(40968),n=t(74466),i=t(59434);let l=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(d.b,{ref:a,className:(0,i.cn)(l(),t),...r})});c.displayName=d.b.displayName}},e=>{var a=a=>e(e.s=a);e.O(0,[464,555,778,568,569,614,831,441,684,358],()=>a(39547)),_N_E=e.O()}]);