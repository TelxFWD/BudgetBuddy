(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{30285:(e,s,t)=>{"use strict";t.d(s,{$:()=>c});var r=t(95155),a=t(12115),n=t(99708),d=t(74466),i=t(59434);let o=(0,d.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,s)=>{let{className:t,variant:a,size:d,asChild:c=!1,...l}=e,m=c?n.DX:"button";return(0,r.jsx)(m,{className:(0,i.cn)(o({variant:a,size:d,className:t})),ref:s,...l})});c.displayName="Button"},37861:(e,s,t)=>{Promise.resolve().then(t.bind(t,72608))},62523:(e,s,t)=>{"use strict";t.d(s,{p:()=>d});var r=t(95155),a=t(12115),n=t(59434);let d=a.forwardRef((e,s)=>{let{className:t,type:a,...d}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...d})});d.displayName="Input"},66695:(e,s,t)=>{"use strict";t.d(s,{Wu:()=>c,ZB:()=>o,Zp:()=>d,aR:()=>i});var r=t(95155),a=t(12115),n=t(59434);let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});d.displayName="Card";let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});i.displayName="CardHeader";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});o.displayName="CardTitle",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})}).displayName="CardDescription";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...a})});c.displayName="CardContent",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},72608:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>T});var r=t(95155),a=t(12115),n=t(34540),d=t(12638),i=t(66695),o=t(30285),c=t(62523),l=t(85057),m=t(80333),u=t(26126),x=t(71007),h=t(23861),p=t(75525),b=t(69803),f=t(32919),g=t(381),j=t(78749),N=t(92657),v=t(4229),y=t(46767),w=t(81497),k=t(40646),A=t(91788),P=t(1243),C=t(62525),R=t(76408),S=t(13568),F=t(96809);function T(){(0,n.wA)();let{user:e}=(0,n.d4)(e=>e.auth),[s,t]=(0,a.useState)("profile"),[T,D]=(0,a.useState)(!1),[E,_]=(0,a.useState)(!1),[Z,L]=(0,a.useState)({username:(null==e?void 0:e.username)||"",email:(null==e?void 0:e.email)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[B,U]=(0,a.useState)({emailNotifications:!0,pushNotifications:!0,weeklyReports:!0,securityAlerts:!0,maintenanceUpdates:!1}),[W,$]=(0,a.useState)({twoFactorEnabled:!1,sessionTimeout:24,ipWhitelist:[],apiKeyAccess:(null==e?void 0:e.plan)==="elite"}),[K,z]=(0,a.useState)({telegram:[],discord:[]});(0,a.useEffect)(()=>{J(),O()},[]);let J=async()=>{try{let e=(await F.K.get("/user/settings")).data;U(e.notifications||B),$(e.security||W)}catch(e){console.error("Failed to load settings:",e)}},O=async()=>{try{let e=await F.K.get("/auth/linked-accounts");z(e.data)}catch(e){console.error("Failed to load connected accounts:",e)}},I=async()=>{D(!0);try{let e={username:Z.username,email:Z.email};if(Z.newPassword){if(Z.newPassword!==Z.confirmPassword){S.oR.error("Passwords do not match"),D(!1);return}e.current_password=Z.currentPassword,e.new_password=Z.newPassword}console.log("Profile update data:",e),S.oR.success("Profile updated successfully"),L(e=>({...e,currentPassword:"",newPassword:"",confirmPassword:""}))}catch(e){S.oR.error(e.message||"Failed to update profile")}D(!1)},q=async()=>{D(!0);try{await F.K.put("/user/settings/notifications",B),S.oR.success("Notification settings saved")}catch(e){S.oR.error("Failed to save notification settings")}D(!1)},G=async()=>{D(!0);try{await F.K.put("/user/settings/security",W),S.oR.success("Security settings saved")}catch(e){S.oR.error("Failed to save security settings")}D(!1)},H=async()=>{if("DELETE"===prompt('Type "DELETE" to confirm account deletion:'))try{await F.K.delete("/user/account"),S.oR.success("Account deleted successfully"),window.location.href="/login"}catch(e){S.oR.error("Failed to delete account")}},M=async()=>{try{let e=await F.K.get("/user/export",{responseType:"blob"}),s=window.URL.createObjectURL(new Blob([e.data])),t=document.createElement("a");t.href=s,t.setAttribute("download","user_data.json"),document.body.appendChild(t),t.click(),t.remove(),window.URL.revokeObjectURL(s),S.oR.success("Data exported successfully")}catch(e){S.oR.error("Failed to export data")}},V=[{id:"profile",label:"Profile",icon:x.A},{id:"notifications",label:"Notifications",icon:h.A},{id:"security",label:"Security",icon:p.A},{id:"accounts",label:"Connected Accounts",icon:b.A},{id:"data",label:"Data & Privacy",icon:f.A}];return(0,r.jsx)(d.A,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold text-dark-text flex items-center gap-3",children:[(0,r.jsx)(g.A,{className:"h-8 w-8 text-neon-blue"}),"Settings"]}),(0,r.jsx)("p",{className:"text-dark-muted mt-1",children:"Manage your account preferences and security settings"})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsx)(i.Zp,{className:"glass-effect border-dark-border",children:(0,r.jsx)(i.Wu,{className:"p-4",children:(0,r.jsx)("nav",{className:"space-y-2",children:V.map(e=>(0,r.jsxs)("button",{onClick:()=>t(e.id),className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left transition-all duration-200 ".concat(s===e.id?"bg-neon-blue/20 text-neon-blue border border-neon-blue/30":"text-dark-muted hover:text-dark-text hover:bg-dark-border"),children:[(0,r.jsx)(e.icon,{className:"h-4 w-4"}),e.label]},e.id))})})})}),(0,r.jsx)("div",{className:"lg:col-span-3",children:(0,r.jsxs)(R.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.2},children:["profile"===s&&(0,r.jsxs)(i.Zp,{className:"glass-effect border-dark-border",children:[(0,r.jsx)(i.aR,{children:(0,r.jsx)(i.ZB,{className:"text-dark-text",children:"Profile Information"})}),(0,r.jsxs)(i.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(l.J,{htmlFor:"username",className:"text-dark-text",children:"Username"}),(0,r.jsx)(c.p,{id:"username",value:Z.username,onChange:e=>L(s=>({...s,username:e.target.value})),className:"mt-1 bg-dark-border border-dark-border text-dark-text"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.J,{htmlFor:"email",className:"text-dark-text",children:"Email"}),(0,r.jsx)(c.p,{id:"email",type:"email",value:Z.email,onChange:e=>L(s=>({...s,email:e.target.value})),className:"mt-1 bg-dark-border border-dark-border text-dark-text"})]})]}),(0,r.jsxs)("div",{className:"border-t border-dark-border pt-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-dark-text mb-4",children:"Change Password"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(l.J,{htmlFor:"currentPassword",className:"text-dark-text",children:"Current Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(c.p,{id:"currentPassword",type:E?"text":"password",value:Z.currentPassword,onChange:e=>L(s=>({...s,currentPassword:e.target.value})),className:"mt-1 bg-dark-border border-dark-border text-dark-text pr-10"}),(0,r.jsx)("button",{type:"button",onClick:()=>_(!E),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-dark-muted hover:text-dark-text",children:E?(0,r.jsx)(j.A,{className:"h-4 w-4"}):(0,r.jsx)(N.A,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(l.J,{htmlFor:"newPassword",className:"text-dark-text",children:"New Password"}),(0,r.jsx)(c.p,{id:"newPassword",type:E?"text":"password",value:Z.newPassword,onChange:e=>L(s=>({...s,newPassword:e.target.value})),className:"mt-1 bg-dark-border border-dark-border text-dark-text"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.J,{htmlFor:"confirmPassword",className:"text-dark-text",children:"Confirm Password"}),(0,r.jsx)(c.p,{id:"confirmPassword",type:E?"text":"password",value:Z.confirmPassword,onChange:e=>L(s=>({...s,confirmPassword:e.target.value})),className:"mt-1 bg-dark-border border-dark-border text-dark-text"})]})]})]})]}),(0,r.jsxs)(o.$,{onClick:I,disabled:T,className:"bg-neon-green hover:bg-neon-green/90 text-black font-semibold",children:[(0,r.jsx)(v.A,{className:"h-4 w-4 mr-2"}),T?"Saving...":"Save Changes"]})]})]}),"notifications"===s&&(0,r.jsxs)(i.Zp,{className:"glass-effect border-dark-border",children:[(0,r.jsx)(i.aR,{children:(0,r.jsx)(i.ZB,{className:"text-dark-text",children:"Notification Preferences"})}),(0,r.jsxs)(i.Wu,{className:"space-y-6",children:[Object.entries(B).map(e=>{let[s,t]=e;return(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-dark-border rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-dark-text font-medium",children:s.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}),(0,r.jsxs)("p",{className:"text-dark-muted text-sm",children:["emailNotifications"===s&&"Receive email notifications for important updates","pushNotifications"===s&&"Get push notifications in your browser","weeklyReports"===s&&"Weekly summary of your forwarding activity","securityAlerts"===s&&"Immediate alerts for security-related events","maintenanceUpdates"===s&&"Notifications about system maintenance"]})]}),(0,r.jsx)(m.d,{checked:t,onCheckedChange:e=>U(t=>({...t,[s]:e})),className:"data-[state=checked]:bg-neon-blue"})]},s)}),(0,r.jsxs)(o.$,{onClick:q,disabled:T,className:"bg-neon-green hover:bg-neon-green/90 text-black font-semibold",children:[(0,r.jsx)(v.A,{className:"h-4 w-4 mr-2"}),T?"Saving...":"Save Preferences"]})]})]}),"security"===s&&(0,r.jsxs)(i.Zp,{className:"glass-effect border-dark-border",children:[(0,r.jsx)(i.aR,{children:(0,r.jsx)(i.ZB,{className:"text-dark-text",children:"Security Settings"})}),(0,r.jsxs)(i.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-dark-border rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-dark-text font-medium",children:"Two-Factor Authentication"}),(0,r.jsx)("p",{className:"text-dark-muted text-sm",children:"Add an extra layer of security to your account"})]}),(0,r.jsx)(m.d,{checked:W.twoFactorEnabled,onCheckedChange:e=>$(s=>({...s,twoFactorEnabled:e})),className:"data-[state=checked]:bg-neon-green"})]}),(0,r.jsxs)("div",{className:"p-3 bg-dark-border rounded-lg",children:[(0,r.jsx)(l.J,{htmlFor:"sessionTimeout",className:"text-dark-text",children:"Session Timeout (hours)"}),(0,r.jsx)(c.p,{id:"sessionTimeout",type:"number",min:"1",max:"168",value:W.sessionTimeout,onChange:e=>$(s=>({...s,sessionTimeout:parseInt(e.target.value)||24})),className:"mt-2 bg-dark-bg border-dark-border text-dark-text"}),(0,r.jsx)("p",{className:"text-dark-muted text-sm mt-1",children:"Automatically log out after this period of inactivity"})]}),(0,r.jsxs)(o.$,{onClick:G,disabled:T,className:"bg-neon-green hover:bg-neon-green/90 text-black font-semibold",children:[(0,r.jsx)(v.A,{className:"h-4 w-4 mr-2"}),T?"Saving...":"Save Security Settings"]})]})]}),"accounts"===s&&(0,r.jsxs)(i.Zp,{className:"glass-effect border-dark-border",children:[(0,r.jsx)(i.aR,{children:(0,r.jsx)(i.ZB,{className:"text-dark-text",children:"Connected Accounts"})}),(0,r.jsxs)(i.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-dark-text mb-4 flex items-center gap-2",children:[(0,r.jsx)(y.A,{className:"h-5 w-5 text-blue-400"}),"Telegram Accounts"]}),K.telegram.length>0?(0,r.jsx)("div",{className:"space-y-3",children:K.telegram.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-dark-border rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-dark-text font-medium",children:e.username||e.phone}),(0,r.jsxs)("p",{className:"text-dark-muted text-sm",children:["Connected ",new Date(e.created_at).toLocaleDateString()]})]}),(0,r.jsx)(u.E,{variant:"outline",className:"text-neon-green border-neon-green",children:"Active"})]},s))}):(0,r.jsxs)("div",{className:"text-center py-6 bg-dark-border rounded-lg",children:[(0,r.jsx)(y.A,{className:"h-8 w-8 text-dark-muted mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-dark-muted",children:"No Telegram accounts connected"}),(0,r.jsx)(o.$,{size:"sm",className:"mt-3 bg-blue-500 hover:bg-blue-600 text-white",children:"Connect Telegram"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-dark-text mb-4 flex items-center gap-2",children:[(0,r.jsx)(w.A,{className:"h-5 w-5 text-purple-400"}),"Discord Servers"]}),K.discord.length>0?(0,r.jsx)("div",{className:"space-y-3",children:K.discord.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-dark-border rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-dark-text font-medium",children:e.name}),(0,r.jsxs)("p",{className:"text-dark-muted text-sm",children:["Connected ",new Date(e.created_at).toLocaleDateString()]})]}),(0,r.jsx)(u.E,{variant:"outline",className:"text-neon-green border-neon-green",children:"Active"})]},s))}):(0,r.jsxs)("div",{className:"text-center py-6 bg-dark-border rounded-lg",children:[(0,r.jsx)(w.A,{className:"h-8 w-8 text-dark-muted mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-dark-muted",children:"No Discord servers connected"}),(0,r.jsx)(o.$,{size:"sm",className:"mt-3 bg-purple-500 hover:bg-purple-600 text-white",children:"Connect Discord"})]})]})]})]}),"data"===s&&(0,r.jsxs)(i.Zp,{className:"glass-effect border-dark-border",children:[(0,r.jsx)(i.aR,{children:(0,r.jsx)(i.ZB,{className:"text-dark-text",children:"Data & Privacy"})}),(0,r.jsxs)(i.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"p-4 bg-neon-blue/10 border border-neon-blue/30 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,r.jsx)(k.A,{className:"h-5 w-5 text-neon-blue"}),(0,r.jsx)("h3",{className:"text-dark-text font-medium",children:"Data Export"})]}),(0,r.jsx)("p",{className:"text-dark-muted text-sm mb-4",children:"Download a copy of all your data including forwarding pairs, messages, and account information."}),(0,r.jsxs)(o.$,{onClick:M,variant:"outline",className:"border-neon-blue text-neon-blue hover:bg-neon-blue/10",children:[(0,r.jsx)(A.A,{className:"h-4 w-4 mr-2"}),"Export Data"]})]}),(0,r.jsxs)("div",{className:"p-4 bg-red-400/10 border border-red-400/30 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,r.jsx)(P.A,{className:"h-5 w-5 text-red-400"}),(0,r.jsx)("h3",{className:"text-dark-text font-medium",children:"Delete Account"})]}),(0,r.jsx)("p",{className:"text-dark-muted text-sm mb-4",children:"Permanently delete your account and all associated data. This action cannot be undone."}),(0,r.jsxs)(o.$,{onClick:H,variant:"outline",className:"border-red-400 text-red-400 hover:bg-red-400/10",children:[(0,r.jsx)(C.A,{className:"h-4 w-4 mr-2"}),"Delete Account"]})]})]})]})]},s)})]})]})})}},80333:(e,s,t)=>{"use strict";t.d(s,{d:()=>i});var r=t(95155),a=t(12115),n=t(98611),d=t(59434);let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.bL,{className:(0,d.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...a,ref:s,children:(0,r.jsx)(n.zi,{className:(0,d.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});i.displayName=n.bL.displayName},85057:(e,s,t)=>{"use strict";t.d(s,{J:()=>c});var r=t(95155),a=t(12115),n=t(40968),d=t(74466),i=t(59434);let o=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.b,{ref:s,className:(0,i.cn)(o(),t),...a})});c.displayName=n.b.displayName},96809:(e,s,t)=>{"use strict";t.d(s,{K:()=>d});var r=t(23464),a=t(59959);class n{async get(e,s){return this.api.get(e,s)}async post(e,s,t){return this.api.post(e,s,t)}async put(e,s,t){return this.api.put(e,s,t)}async patch(e,s,t){return this.api.patch(e,s,t)}async delete(e,s){return this.api.delete(e,s)}async uploadFile(e,s,t){let r=new FormData;return r.append("file",s),this.api.post(e,r,{...t,headers:{...null==t?void 0:t.headers,"Content-Type":"multipart/form-data"}})}constructor(){this.api=r.A.create({baseURL:"/api",timeout:3e4,headers:{"Content-Type":"application/json"}}),this.api.interceptors.request.use(e=>{let s=a.y.getAccessToken();return s&&(e.headers.Authorization="Bearer ".concat(s)),e},e=>Promise.reject(e)),this.api.interceptors.response.use(e=>e,async e=>{var s;if((null==(s=e.response)?void 0:s.status)===401){let s=a.y.getRefreshToken();if(s)try{let{access_token:t,refresh_token:r}=(await this.api.post("/auth/refresh",{refresh_token:s})).data;return a.y.setTokens({access_token:t,refresh_token:r,token_type:"bearer",expires_in:3600}),e.config.headers.Authorization="Bearer ".concat(t),this.api.request(e.config)}catch(e){a.y.logout(),window.location.href="/login"}else a.y.logout(),window.location.href="/login"}return Promise.reject(e)})}}let d=new n}},e=>{var s=s=>e(e.s=s);e.O(0,[464,555,778,568,569,255,831,441,684,358],()=>s(37861)),_N_E=e.O()}]);